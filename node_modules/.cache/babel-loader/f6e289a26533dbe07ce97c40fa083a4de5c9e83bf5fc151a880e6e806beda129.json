{"ast":null,"code":"import http from \"./httpService\";\nimport config from \"../config.json\";\nimport jwtDecode from \"jwt-decode\";\nconst apiUrl = config.apiUrl + \"/auth\";\nexport async function login(email, password) {\n  const {\n    data: jwt\n  } = await http.post(apiUrl, {\n    email,\n    password\n  });\n  localStorage.setItem(tokenKey, jwt);\n}\nexport function loginWithJwt(jwt) {\n  localStorage.setItem(tokenKey, jwt);\n}\nexport function logout() {\n  localStorage.removeItem(tokenKey);\n}\nexport function getCurrentUser() {\n  try {\n    const jwt = localStorage.getItem(tokenKey);\n    return jwtDecode(jwt);\n  } catch (ex) {\n    return null;\n  }\n}\nexport default {\n  login,\n  logout,\n  getCurrentUser,\n  loginWithJwt\n};","map":{"version":3,"names":["http","config","jwtDecode","apiUrl","login","email","password","data","jwt","post","localStorage","setItem","tokenKey","loginWithJwt","logout","removeItem","getCurrentUser","getItem","ex"],"sources":["/Users/hooman/Desktop/Hh Coding/_iCoding/Demo/vidly/src/services/authService.js"],"sourcesContent":["import http from \"./httpService\";\nimport config from \"../config.json\";\nimport jwtDecode from \"jwt-decode\";\n\nconst apiUrl = config.apiUrl + \"/auth\";\n\nexport async function login(email, password) {\n  const { data: jwt } = await http.post(apiUrl, { email, password });\n  localStorage.setItem(tokenKey, jwt);\n}\n\nexport function loginWithJwt(jwt) {\n  localStorage.setItem(tokenKey, jwt);\n}\n\nexport function logout() {\n  localStorage.removeItem(tokenKey);\n}\n\nexport function getCurrentUser() {\n  try {\n    const jwt = localStorage.getItem(tokenKey);\n    return jwtDecode(jwt);\n  } catch (ex) {\n    return null;\n  }\n}\n\nexport default {\n  login,\n  logout,\n  getCurrentUser,\n  loginWithJwt,\n};\n"],"mappings":"AAAA,OAAOA,IAAI,MAAM,eAAe;AAChC,OAAOC,MAAM,MAAM,gBAAgB;AACnC,OAAOC,SAAS,MAAM,YAAY;AAElC,MAAMC,MAAM,GAAGF,MAAM,CAACE,MAAM,GAAG,OAAO;AAEtC,OAAO,eAAeC,KAAK,CAACC,KAAK,EAAEC,QAAQ,EAAE;EAC3C,MAAM;IAAEC,IAAI,EAAEC;EAAI,CAAC,GAAG,MAAMR,IAAI,CAACS,IAAI,CAACN,MAAM,EAAE;IAAEE,KAAK;IAAEC;EAAS,CAAC,CAAC;EAClEI,YAAY,CAACC,OAAO,CAACC,QAAQ,EAAEJ,GAAG,CAAC;AACrC;AAEA,OAAO,SAASK,YAAY,CAACL,GAAG,EAAE;EAChCE,YAAY,CAACC,OAAO,CAACC,QAAQ,EAAEJ,GAAG,CAAC;AACrC;AAEA,OAAO,SAASM,MAAM,GAAG;EACvBJ,YAAY,CAACK,UAAU,CAACH,QAAQ,CAAC;AACnC;AAEA,OAAO,SAASI,cAAc,GAAG;EAC/B,IAAI;IACF,MAAMR,GAAG,GAAGE,YAAY,CAACO,OAAO,CAACL,QAAQ,CAAC;IAC1C,OAAOV,SAAS,CAACM,GAAG,CAAC;EACvB,CAAC,CAAC,OAAOU,EAAE,EAAE;IACX,OAAO,IAAI;EACb;AACF;AAEA,eAAe;EACbd,KAAK;EACLU,MAAM;EACNE,cAAc;EACdH;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}